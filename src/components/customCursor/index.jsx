import React, { useContext, useEffect } from 'react'
import CustomCursorContext from './context/CustomCursorContext'
import { motion, useMotionValue, useSpring } from 'framer-motion'
const CursorIcon = () => (
  <svg
    width="18"
    height="18"
    viewBox="0 0 13 12"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M12.2299 9.05295C12.2536 8.51643 12.2333 7.98338 12.2333 7.44168C12.2316 6.69748 12.2198 5.95329 12.2198 5.20909C12.2198 5.2039 12.2198 5.11563 12.2198 5.11563H10.4083V6.11424C10.4083 6.80305 10.41 7.4936 10.4117 8.18241C10.4134 8.52682 10.4134 8.86949 10.4134 9.2139C10.4134 9.51504 10.29 9.77464 9.98924 9.84733C9.79998 9.89233 9.58706 9.84214 9.44681 9.70368C9.17982 9.44581 9.22375 9.0166 9.22375 8.67739C9.22544 8.20837 9.22713 7.74109 9.22713 7.27207C9.22882 6.35134 9.22713 5.43062 9.22713 4.50989C9.22713 3.81935 9.02436 3.18592 8.54614 2.67709C8.00371 2.10251 7.21288 1.80656 6.43895 1.94155C5.7512 2.0627 5.11245 2.49883 4.75083 3.11323C4.42977 3.66532 4.42301 4.30567 4.42301 4.93045C4.42301 5.6833 4.4247 6.43788 4.4247 7.19073C4.4247 7.57321 4.38245 8.04222 3.96338 8.17722C3.76398 8.24125 3.53079 8.1876 3.38209 8.03703C3.23507 7.88819 3.181 7.66666 3.16917 7.45379C3.10158 6.34096 3.16579 5.21428 3.16579 4.09972H1.35432C1.35432 4.86295 1.35432 5.62619 1.35432 6.38942C1.35432 6.66114 1.35094 6.93112 1.34756 7.20284C1.3408 7.62859 1.42191 8.05434 1.5723 8.4524C1.64666 8.64796 1.74128 8.83661 1.85957 9.00795C2.32089 9.67772 3.13876 10.0637 3.93634 10.0117C4.70183 9.96155 5.4521 9.5185 5.83231 8.82623C6.44909 7.70647 6.17196 6.26827 6.20069 5.0464C6.20914 4.68815 6.09592 4.00626 6.48457 3.80723C6.59272 3.71724 6.73298 3.66012 6.87323 3.6757C7.00842 3.68955 7.13177 3.77262 7.22133 3.87819C7.5745 4.30394 7.44608 4.8993 7.44608 5.40812C7.44777 6.02944 7.44439 6.65075 7.43425 7.27034C7.42411 7.93665 7.36834 8.61335 7.43594 9.2762C7.53226 10.2108 7.99695 11.0311 8.84524 11.4361C9.68845 11.8394 10.7057 11.7199 11.4188 11.1003C11.8379 10.7369 12.1167 10.1831 12.1843 9.62407C12.208 9.43543 12.2215 9.24332 12.2299 9.05295ZM7.59309 5.60888V5.59157C7.59478 5.5933 7.59816 5.59503 7.59985 5.59503C7.59816 5.59849 7.59478 5.60369 7.59309 5.60888Z"
      fill="white"
    />
    <path
      d="M7.60031 5.59513C7.59855 5.59873 7.59502 5.60412 7.59326 5.60951V5.59154C7.59502 5.59334 7.59855 5.59513 7.60031 5.59513Z"
      fill="white"
    />
    <path
      d="M7.60031 5.59513C7.59855 5.59873 7.59502 5.60412 7.59326 5.60951V5.59154C7.59502 5.59334 7.59855 5.59513 7.60031 5.59513Z"
      fill="white"
    />
    <path
      d="M7.60031 5.59513C7.59855 5.59873 7.59502 5.60412 7.59326 5.60951V5.59154C7.59502 5.59334 7.59855 5.59513 7.60031 5.59513Z"
      fill="white"
    />
    <path
      d="M7.60031 5.59513C7.59855 5.59873 7.59502 5.60412 7.59326 5.60951V5.59154C7.59502 5.59334 7.59855 5.59513 7.60031 5.59513Z"
      fill="white"
    />
    <path
      d="M2.39834 3.18597C3.24667 3.18597 3.93437 2.48163 3.93437 1.61278C3.93437 0.743925 3.24667 0.0395813 2.39834 0.0395813C1.55001 0.0395813 0.862305 0.743925 0.862305 1.61278C0.862305 2.48163 1.55001 3.18597 2.39834 3.18597Z"
      fill="#4CAF50"
    />
    <path
      d="M11.2627 4.17936C11.8823 4.17936 12.3847 3.66486 12.3847 3.03019C12.3847 2.39552 11.8823 1.88101 11.2627 1.88101C10.643 1.88101 10.1406 2.39552 10.1406 3.03019C10.1406 3.66486 10.643 4.17936 11.2627 4.17936Z"
      fill="#4CAF50"
    />
  </svg>
)

const CustomCursor = () => {
  const { type } = useContext(CustomCursorContext)
  const cursorX = useMotionValue(-100)
  const cursorY = useMotionValue(-100)

  const springConfig = { damping: 25, stiffness: 700 }
  const cursorXSpring = useSpring(cursorX, springConfig)
  const cursorYSpring = useSpring(cursorY, springConfig)

  useEffect(() => {
    const moveCursor = (e) => {
      cursorX.set(e.clientX - 16)
      cursorY.set(e.clientY - 16)
    }

    window.addEventListener('mousemove', moveCursor)

    return () => {
      window.removeEventListener('mousemove', moveCursor)
    }
  }, [])

  return (
    <motion.div
      // eslint-disable-next-line tailwindcss/no-custom-classname
      className={`cursor-${type} border-primary-50ÃŸ pointer-events-none fixed left-0 top-0 z-50 flex h-8 w-8 items-center  justify-center rounded-full border-[0.5px]`}
      style={{
        translateX: cursorXSpring,
        translateY: cursorYSpring,
      }}
    >
      <CursorIcon />
    </motion.div>
  )
}

export default CustomCursor
