import React from 'react'
import { useSiteMetadata } from '../utils/useSiteMetaData'

export const SEO = ({ title, description, pathname, children }) => {
  const {
    title: defaultTitle,
    description: defaultDescription,
    image,
    siteUrl,
  } = useSiteMetadata()

  const seo = {
    title: title || defaultTitle,
    description: description || defaultDescription,
    image: `${siteUrl}${image}`,
    url: `${siteUrl}${pathname || ``}`,
  }

  return (
    <>
      <title>{seo.title}</title>
      <meta name="description" content={seo.description} />
      <meta name="image" content={seo.image} />
      <meta name="twitter:card" content="summary_large_image" />
      <meta name="twitter:title" content={seo.title} />
      <meta name="twitter:url" content={seo.url} />
      <meta name="twitter:description" content={seo.description} />
      <meta name="twitter:image" content={seo.image} />
      <meta name="twitter:creator" content={seo.twitterUsername} />
      <link
        rel="icon"
        href="data:image/svg+xml,%3Csvg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.8943 9.87065C11.9189 9.3119 11.8978 8.75676 11.8978 8.19261C11.896 7.41757 11.8837 6.64254 11.8837 5.8675C11.8837 5.86209 11.8837 5.77017 11.8837 5.77017H9.99718V6.81016C9.99718 7.52752 9.99894 8.24668 10.0007 8.96404C10.0025 9.32271 10.0025 9.67959 10.0025 10.0383C10.0025 10.3519 9.87399 10.6222 9.56074 10.6979C9.36364 10.7448 9.1419 10.6925 8.99583 10.5483C8.71778 10.2798 8.76353 9.8328 8.76353 9.47952C8.76529 8.99107 8.76705 8.50442 8.76705 8.01597C8.76881 7.05709 8.76705 6.09821 8.76705 5.13933C8.76705 4.42017 8.55587 3.76049 8.05784 3.23058C7.49294 2.63218 6.66933 2.32397 5.86333 2.46456C5.14708 2.59073 4.48186 3.04493 4.10526 3.68479C3.77089 4.25976 3.76385 4.92665 3.76385 5.57731C3.76385 6.36136 3.76561 7.14721 3.76561 7.93126C3.76561 8.32959 3.72161 8.81804 3.28518 8.95863C3.07752 9.02532 2.83466 8.96944 2.67979 8.81263C2.52669 8.65763 2.47037 8.42692 2.45805 8.20522C2.38766 7.04627 2.45453 5.87291 2.45453 4.71216H0.567994C0.567994 5.50702 0.567994 6.30188 0.567994 7.09674C0.567994 7.37972 0.564474 7.6609 0.560954 7.94387C0.553915 8.38726 0.638387 8.83066 0.795012 9.24521C0.872445 9.44888 0.970995 9.64535 1.09418 9.82378C1.57462 10.5213 2.42638 10.9232 3.25702 10.8692C4.05422 10.8169 4.83559 10.3555 5.23155 9.63453C5.87389 8.46837 5.58528 6.97057 5.61519 5.69808C5.62399 5.32498 5.50608 4.61483 5.91084 4.40755C6.02347 4.31383 6.16954 4.25435 6.31561 4.27057C6.45639 4.28499 6.58486 4.3715 6.67813 4.48145C7.04594 4.92484 6.91219 5.54487 6.91219 6.07478C6.91395 6.72184 6.91043 7.36891 6.89987 8.01417C6.88931 8.70809 6.83124 9.41283 6.90163 10.1032C7.00194 11.0765 7.48589 11.9308 8.36933 12.3526C9.24749 12.7725 10.3069 12.6482 11.0496 12.0029C11.486 11.6244 11.7764 11.0476 11.8468 10.4654C11.8714 10.269 11.8855 10.0689 11.8943 9.87065ZM7.0653 6.28386V6.26583C7.06706 6.26764 7.07057 6.26944 7.07233 6.26944C7.07057 6.27304 7.06706 6.27845 7.0653 6.28386Z' fill='white'/%3E%3Cpath d='M7.07248 6.2694C7.07072 6.273 7.06719 6.27839 7.06543 6.28378V6.26581C7.06719 6.26761 7.07072 6.2694 7.07248 6.2694Z' fill='white'/%3E%3Cpath d='M7.07248 6.2694C7.07072 6.273 7.06719 6.27839 7.06543 6.28378V6.26581C7.06719 6.26761 7.07072 6.2694 7.07248 6.2694Z' fill='white'/%3E%3Cpath d='M7.07248 6.2694C7.07072 6.273 7.06719 6.27839 7.06543 6.28378V6.26581C7.06719 6.26761 7.07072 6.2694 7.07248 6.2694Z' fill='white'/%3E%3Cpath d='M7.07248 6.2694C7.07072 6.273 7.06719 6.27839 7.06543 6.28378V6.26581C7.06719 6.26761 7.07072 6.2694 7.07248 6.2694Z' fill='white'/%3E%3Cpath d='M1.65535 3.76054C2.53883 3.76054 3.25504 3.02701 3.25504 2.12215C3.25504 1.2173 2.53883 0.483765 1.65535 0.483765C0.771868 0.483765 0.0556641 1.2173 0.0556641 2.12215C0.0556641 3.02701 0.771868 3.76054 1.65535 3.76054Z' fill='%234CAF50'/%3E%3Cpath d='M10.8873 4.7951C11.5326 4.7951 12.0558 4.25928 12.0558 3.5983C12.0558 2.93733 11.5326 2.4015 10.8873 2.4015C10.2419 2.4015 9.71875 2.93733 9.71875 3.5983C9.71875 4.25928 10.2419 4.7951 10.8873 4.7951Z' fill='%234CAF50'/%3E%3C/svg%3E%0A"
      />
      {children}
    </>
  )
}
